<!DOCTYPE html>
<html lagn="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>제조기록서</title>

  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/css/desktop.css"/>
  <link rel="stylesheet" href="css/custom.css"/>

  <script src="/js/jquery.min.js"></script>

</head>

<body>
<div class="container is-header">
  <!-- nav -->
  <!-- [ Header ] start -->
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-logo">
      <a class="navbar-link" href="/" rel="noopener">
        <span class="logo is-gsitm-hr is-medium">
          <svg id="svgKgcLogo"><use href="#logo-kgc"></use></svg>
        </span>
      </a>
    </div>
    <div class="navbar-menu">
      <ul class="navbar-left" id="headerMenu">
        <li class="navbar-item" data-target="dom">
          <a class="navbar-link" href="#!" aria-current="page" rel="noopener">
            <span class="icon is-person-check is-medium">
              <svg id="svgDocument"><use href="#document"></use></svg>
            </span>
            <span>문서관리</span>
          </a>
        </li>
        <li class="navbar-item" data-target="com">
          <a class="navbar-link" href="#!" aria-current="page" rel="noopener">
            <span class="icon is-person-check is-medium">
              <svg id="svgWindowGear"><use href="#window-gear"></use></svg>
            </span>
            <span>공통관리</span>
          </a>
        </li>
      </ul>
      <ul class="navbar-right">
        <li class="navbar-item">
          <a class="navbar-link" id="btnsiteMap" href="#!" aria-current="page" rel="noopener"></a>
        </li>
        <li class="navbar-item">
          <a class="navbar-link" id="headerEmplSearch" href="#!" aria-current="page" rel="noopener">
            <div class="control is-x-large has-icon-right" style="width: 150px;">
              <input id="inputEmplSearch" type="text" th:placeholder="사원검색" class="input"/>
              <span class="icon is-search is-large" onclick="openEmplSearchPopup()">
                  <svg id="svgSearch"><use href="#search"></use></svg>
              </span>
            </div>
          </a>
        </li>
        <li class="navbar-item">
          <a class="navbar-link" href="/logout" aria-current="page" rel="noopener">
            <span class="icon is-logout is-medium">
                <svg id="svgLogout"><use href="#logout"></use></svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <!-- [ Header ] end -->

  <!-- side -->
  <div class="container is-page" id="mainBody">
    <div class="columns is-page">
      <!-- [ navigation menu ] start -->
      <aside class="left-navbar is-active">
        <div class="profile">
          <div class="columns">
            <figure id="_psmstrPhotoPicture" class="id-photo">
              <img id="_psmstrPhotoImg" src="/img/jpg/user-photo-default@2x.jpg" alt="사용자 사진" class="profile-photo"/>
            </figure>
            <div class="profile-content">
              <p class="profile-personnel">
                <span id="_profile_userNm" class="profile-name">테스트</span>
                <span id="_profile_posiNm" class="profile-position">관리자</span>
                <button id="btnProfileSetting" class="button is-setting is-ghost">
                  <span class="icon is-setting is-filled is-white is-medium">
                    <svg id="svgSettingsFilled"><use href="#settings-filled"></use></svg>
                  </span>
                </button>
              </p>
              <p class="profile-personnel">
                <span class="profile-id" id="_profile_userId">testId</span>
                <span class="profile-divider">|</span>
                <span class="profile-team" id="_profile_deptNm">인사팀</span>
              </p>
              <p id="_profile_emailAd" class="profile-email" style="font-size: smaller;"></p>
            </div>
          </div>
          <div class="field">
            <div class="control is-x-large has-icon-right">
              <input id="menuSearch" type="text" th:placeholder="메뉴검색" class="input" autocomplete="off"/>
              <span class="icon is-search is-large">
                <svg id="svgSearch_2"><use href="#search"></use></svg>
              </span>
              <ul class="search-result"></ul>
            </div>
          </div>
        </div>
        <ul class="tabs is-menu">
          <li class="tab is-active">
            <a class="tab-link" href="#" rel="noopener">
              <span class="icon is-medium is-menu">
                <svg id="svgMenu"><use href="#menu"></use></svg>
              </span>
              <span>메뉴</span>
            </a>
          </li>
          <li class="tab">
            <a class="tab-link" href="#" rel="noopener">
              <span class="icon is-medium is-menu">
                <svg id="svgStar"><use href="#star"></use></svg>
              </span>
              <span>즐겨찾기</span>
            </a>
          </li>
        </ul>
        <div class="tab-contents is-menu">
          <div class="tab-content is-menu is-active">
            <ul id="sideMenuDoc" class="menu">
              <li class="menu-item">
                <a class="menu-link" href="#" aria-current="page" rel="noopener">
                  제조기록서
                </a>
              </li>
              <li class="menu-item">
                <a class="menu-link" href="#" aria-current="page" rel="noopener">
                  제조기록서 양식
                </a>
              </li>
              <li class="menu-item">
                <a class="menu-link" href="#" aria-current="page" rel="noopener">
                  Log 레포트
                </a>
              </li>
            </ul>
            <ul id="sideMenuCom" class="menu" style="display:none;">
              <li class="menu-item">
                <a class="menu-link" href="#" aria-current="page" rel="noopener">
                  공통코드 관리
                </a>
              </li>
              <li class="menu-item">
                <a class="menu-link" href="#" aria-current="page" rel="noopener">
                  권한 관리
                </a>
              </li>
              <li class="menu-item">
                <a class="menu-link" href="#" aria-current="page" rel="noopener">
                  사용자 관리
                </a>
              </li>
            </ul>
          </div>
          <div class="tab-content is-favorite">
            <ul id="favoriteMenu" class="favorite"></ul>
          </div>
        </div>
      </aside>
      <div class="page">
        <div class="tab-contents is-mdi">
          <!-- 메인 페이지 시작... -->

          <!-- 메인 페이지 끝... -->
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container is-mdi">
  <ul class="tabs is-mdi"></ul>
  <div class="buttons">
    <button class="button is-close-window is-ghost">
      <span class="icon is-close-window is-medium">
          <svg>
              <use href="#close-window"></use>
          </svg>
      </span>
      <p class="tooltip">모두닫기</p>
    </button>
    <button class="button is-download-circle is-ghost">
      <span class="icon is-download-circle is-medium">
          <svg>
              <use href="#download-circle"></use>
          </svg>
      </span>
    </button>
  </div>
</div>

<script th:inline="javascript">

  $(document).ready(function() {
    $("#headerMenu .navbar-item").on("click", function () {
      // 모든 li에서 is-active 제거
      $("#headerMenu .navbar-item").removeClass("is-active");

      // 클릭한 li에 is-active 추가
      $(this).addClass("is-active");
      if($(this).data('target') == 'dom') {
        $("#sideMenuCom").hide();
        $("#sideMenuDoc").show();
      }else if($(this).data('target') == 'com') {
        $("#sideMenuDoc").hide();
        $("#sideMenuCom").show();
      }
    });

    setSvg();
  })

  function setSvg() {
    const svgPath = "/img/svg/"; // SVG 파일 경로

    $("svg").each(function () {
      const $svg = $(this);
      const symbolId = $svg.find("use").attr("href").replace("#", ""); // href 값에서 # 제거
      const filePath = `${svgPath}${symbolId}.svg`; // 파일 경로 만들기

      // SVG 파일 불러와서 대체
      $.get(filePath, function (data) {
        const svgContent = $(data).find("svg").html(); // SVG 내부 내용만 가져오기
        $svg.html(svgContent); // 기존 <use>를 대체
      });
    });
  }
</script>
</body>

</html>